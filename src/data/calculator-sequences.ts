import type { CalculatorSequence } from '../types/calculator';

export const calculatorSequences: CalculatorSequence[] = [
  {
    id: 'future-value',
    name: 'Future Value (FV)',
    category: 'time-value',
    description: 'Calculate the future value of a present amount with compound interest',
    example: {
      problem: 'What will $1,000 grow to in 3 years at 5% interest?',
      given: {
        PV: 1000,
        'I/Y': 5,
        N: 3,
      },
      find: 'FV',
      answer: '$1,157.63',
    },
    steps: [
      { action: 'Clear registers', button: '2nd CLR TVM', display: 'RST' },
      { action: 'Enter present value (negative)', button: '1000 +/- PV', display: 'PV = -1000.00' },
      { action: 'Enter interest rate', button: '5 I/Y', display: 'I/Y = 5.00' },
      { action: 'Enter number of periods', button: '3 N', display: 'N = 3.00' },
      { action: 'Compute future value', button: 'CPT FV', display: 'FV = 1,157.63' },
    ],
    commonMistakes: [
      'Forgetting to make PV negative (cash outflow)',
      'Not clearing registers before starting',
      'Using percentage instead of decimal for I/Y',
    ],
  },
  {
    id: 'present-value',
    name: 'Present Value (PV)',
    category: 'time-value',
    description: 'Calculate the present value of a future amount',
    example: {
      problem: "What is $10,000 in 5 years worth today at 8% interest?",
      given: {
        FV: 10000,
        'I/Y': 8,
        N: 5,
      },
      find: 'PV',
      answer: '-$6,805.83',
    },
    steps: [
      { action: 'Clear registers', button: '2nd CLR TVM', display: 'RST' },
      { action: 'Enter future value', button: '10000 FV', display: 'FV = 10000.00' },
      { action: 'Enter interest rate', button: '8 I/Y', display: 'I/Y = 8.00' },
      { action: 'Enter number of periods', button: '5 N', display: 'N = 5.00' },
      { action: 'Compute present value', button: 'CPT PV', display: 'PV = -6,805.83' },
    ],
    commonMistakes: [
      'Confused by negative sign (negative means cash outflow today)',
      'Using wrong interest rate',
    ],
  },
  {
    id: 'annuity-pv',
    name: 'Annuity Present Value',
    category: 'time-value',
    description: 'Calculate the present value of a series of equal payments',
    example: {
      problem: "What is the present value of $500/year for 10 years at 6%?",
      given: {
        PMT: 500,
        N: 10,
        'I/Y': 6,
      },
      find: 'PV',
      answer: '-$3,680.04',
    },
    steps: [
      { action: 'Clear registers', button: '2nd CLR TVM', display: 'RST' },
      { action: 'Enter payment amount', button: '500 PMT', display: 'PMT = 500.00' },
      { action: 'Enter number of periods', button: '10 N', display: 'N = 10.00' },
      { action: 'Enter interest rate', button: '6 I/Y', display: 'I/Y = 6.00' },
      { action: 'Compute present value', button: 'CPT PV', display: 'PV = -3,680.04' },
    ],
    commonMistakes: [
      'Forgetting to set calculator to END mode for ordinary annuities',
      'Using wrong number of periods',
    ],
  },
  {
    id: 'annuity-fv',
    name: 'Annuity Future Value',
    category: 'time-value',
    description: 'Calculate the future value of a series of equal payments',
    example: {
      problem: "If you save $200/month for 5 years at 6% annual, how much will you have?",
      given: {
        PMT: 200,
        N: 60,
        'I/Y': 0.5,
      },
      find: 'FV',
      answer: '$13,954.01',
    },
    steps: [
      { action: 'Clear registers', button: '2nd CLR TVM', display: 'RST' },
      { action: 'Enter payment amount (negative)', button: '200 +/- PMT', display: 'PMT = -200.00' },
      { action: 'Enter periods (5 years × 12)', button: '60 N', display: 'N = 60.00' },
      { action: 'Enter monthly rate (6%/12)', button: '0.5 I/Y', display: 'I/Y = 0.50' },
      { action: 'Compute future value', button: 'CPT FV', display: 'FV = 13,954.01' },
    ],
    commonMistakes: [
      'Using annual rate instead of monthly rate',
      'Not converting years to months',
    ],
  },
  {
    id: 'bond-pricing',
    name: 'Bond Pricing (Semiannual)',
    category: 'bonds',
    description: 'Calculate the price of a bond with semiannual coupon payments',
    example: {
      problem: '6% coupon, 5 years to maturity, YTM 5%, $1000 face value',
      given: {
        'Coupon Rate': '6%',
        'Years': 5,
        'YTM': '5%',
        'Face Value': 1000,
      },
      find: 'Bond Price',
      answer: '$1,043.76',
    },
    steps: [
      { action: 'Clear registers', button: '2nd CLR TVM', display: 'RST' },
      { action: 'Enter periods (5 years × 2)', button: '10 N', display: 'N = 10.00' },
      { action: 'Enter semiannual YTM (5%/2)', button: '2.5 I/Y', display: 'I/Y = 2.50' },
      { action: 'Enter semiannual coupon ($1000×6%/2)', button: '30 PMT', display: 'PMT = 30.00' },
      { action: 'Enter face value', button: '1000 FV', display: 'FV = 1000.00' },
      { action: 'Compute price', button: 'CPT PV', display: 'PV = -1,043.76' },
    ],
    commonMistakes: [
      'Forgetting to divide YTM by 2 for semiannual',
      'Forgetting to divide coupon payment by 2',
      'Not multiplying years by 2 for periods',
    ],
  },
  {
    id: 'bond-ytm',
    name: 'Yield to Maturity (YTM)',
    category: 'bonds',
    description: 'Calculate the YTM when you know the bond price',
    example: {
      problem: '8% coupon, 10 years, price = $950, $1000 face value',
      given: {
        'Coupon': 40,
        'N': 20,
        'PV': -950,
        'FV': 1000,
      },
      find: 'YTM (annual)',
      answer: '8.53%',
    },
    steps: [
      { action: 'Clear registers', button: '2nd CLR TVM', display: 'RST' },
      { action: 'Enter periods (10 years × 2)', button: '20 N', display: 'N = 20.00' },
      { action: 'Enter price (negative)', button: '950 +/- PV', display: 'PV = -950.00' },
      { action: 'Enter semiannual coupon', button: '40 PMT', display: 'PMT = 40.00' },
      { action: 'Enter face value', button: '1000 FV', display: 'FV = 1000.00' },
      { action: 'Compute semiannual YTM', button: 'CPT I/Y', display: 'I/Y = 4.26' },
      { action: 'Multiply by 2 for annual YTM', button: '× 2 =', display: '8.53' },
    ],
    commonMistakes: [
      'Forgetting to multiply semiannual YTM by 2',
      'Not making price negative',
    ],
  },
  {
    id: 'npv-calculation',
    name: 'Net Present Value (NPV)',
    category: 'time-value',
    description: 'Calculate NPV for uneven cash flows',
    example: {
      problem: 'Initial cost $1000, Year 1: $300, Year 2: $400, Year 3: $500, r=10%',
      given: {
        'CF0': -1000,
        'CF1': 300,
        'CF2': 400,
        'CF3': 500,
        'I': 10,
      },
      find: 'NPV',
      answer: '$24.34',
    },
    steps: [
      { action: 'Clear cash flows', button: 'CF 2nd CLR WORK', display: 'CF0' },
      { action: 'Enter initial investment', button: '1000 +/- ENTER ↓', display: 'CF0 = -1000.00' },
      { action: 'Enter Year 1 cash flow', button: '300 ENTER ↓ ↓', display: 'C01 = 300.00' },
      { action: 'Enter Year 2 cash flow', button: '400 ENTER ↓ ↓', display: 'C02 = 400.00' },
      { action: 'Enter Year 3 cash flow', button: '500 ENTER', display: 'C03 = 500.00' },
      { action: 'Go to NPV function', button: 'NPV', display: 'I = ?' },
      { action: 'Enter discount rate', button: '10 ENTER ↓', display: 'I = 10.00' },
      { action: 'Compute NPV', button: 'CPT', display: 'NPV = 24.34' },
    ],
    commonMistakes: [
      'Not clearing cash flow registers',
      'Forgetting to press F01, F02 keys to set frequency to 1',
    ],
  },
  {
    id: 'ear-calculation',
    name: 'Effective Annual Rate (EAR)',
    category: 'time-value',
    description: 'Convert nominal rate to effective annual rate',
    example: {
      problem: '12% APR compounded monthly, find EAR',
      given: {
        'APR': 12,
        'C/Y': 12,
      },
      find: 'EAR',
      answer: '12.68%',
    },
    steps: [
      { action: 'Access interest conversion', button: '2nd ICONV', display: 'NOM = ?' },
      { action: 'Enter nominal rate (APR)', button: '12 ENTER ↓', display: 'NOM = 12.00' },
      { action: 'Enter compounding periods', button: '12 ENTER ↓', display: 'C/Y = 12.00' },
      { action: 'Compute effective rate', button: 'CPT ↓', display: 'EFF = 12.68' },
    ],
    commonMistakes: [
      'Confusing NOM (APR) with EFF (EAR)',
      'Using wrong compounding frequency',
    ],
  },
];
